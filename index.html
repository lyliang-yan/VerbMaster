<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verb Master - Interactive Learning</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
    </style>
</head>
<body class="bg-[#f8f5f2]">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Custom Icons (Replacing Lucide-React for standalone usage) ---
        const Icon = ({ path, size = 24, className = "", fill = "none" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Volume2 = (p) => <Icon {...p} path={<><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></>} />;
        const BookOpen = (p) => <Icon {...p} path={<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>} />;
        const Edit3 = (p) => <Icon {...p} path={<path d="M12 20h9 M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>} />;
        const ChevronLeft = (p) => <Icon {...p} path={<polyline points="15 18 9 12 15 6"></polyline>} />;
        const ChevronRight = (p) => <Icon {...p} path={<polyline points="9 18 15 12 9 6"></polyline>} />;
        const SearchIcon = (p) => <Icon {...p} path={<><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></>} />;
        const Check = (p) => <Icon {...p} path={<polyline points="20 6 9 17 4 12"></polyline>} />;
        const X = (p) => <Icon {...p} path={<><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></>} />;
        const MousePointerClick = (p) => <Icon {...p} path={<><path d="M14 4.1 12 6"/><path d="m5.1 8-2.9-.8"/><path d="m6 12-1.9 2"/><path d="M7.2 2.2 8 5.1"/><path d="M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z"/></>} />;
        const GraduationCap = (p) => <Icon {...p} path={<><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></>} />;

        // --- Main Application ---
        const PrimaryVerbsApp = () => {
            const [mode, setMode] = useState('learn'); // 'learn' | 'spell'
            const [category, setCategory] = useState('All');
            const [currentVerbIndex, setCurrentVerbIndex] = useState(0);
            const [selectedVoice, setSelectedVoice] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');
            
            // New State for Dynamic Examples
            const [activeTense, setActiveTense] = useState('past'); // 'base', 's', 'ing', 'past', 'pp'
            
            // Spelling State
            const [userSpelling, setUserSpelling] = useState('');
            const [spellingFeedback, setSpellingFeedback] = useState(null);
            const [hintLevel, setHintLevel] = useState(0);

            // --- COMPREHENSIVE DATASET ---
            // Helper to create regular verb objects quickly
            const reg = (id, cat, base, zh, type = 'normal') => {
                let s, ing, past, pp;
                if (type === 'normal') {
                    s = base + 's'; ing = base + 'ing'; past = base + 'ed'; pp = base + 'ed';
                } else if (type === 'e') { // dance -> dances, dancing, danced
                    s = base + 's'; ing = base.slice(0, -1) + 'ing'; past = base + 'd'; pp = base + 'd';
                } else if (type === 'y') { // study -> studies, studying, studied
                    s = base.slice(0, -1) + 'ies'; ing = base + 'ing'; past = base.slice(0, -1) + 'ied'; pp = base.slice(0, -1) + 'ied';
                } else if (type === 'double') { // stop -> stops, stopping, stopped
                    s = base + 's'; ing = base + base.slice(-1) + 'ing'; past = base + base.slice(-1) + 'ed'; pp = base + base.slice(-1) + 'ed';
                }
                return { id, cat, base, s, ing, past, pp, zh };
            };

            // Helper for irregulars
            const irr = (id, cat, base, zh, s, ing, past, pp) => ({ id, cat, base, zh, s, ing, past, pp });

            const verbsData = useMemo(() => [
                // --- ðŸƒ Action (Daily Life) ---
                irr('run', 'Action', 'run', 'è·‘', 'runs', 'running', 'ran', 'run'),
                irr('jump', 'Action', 'jump', 'è·³', 'jumps', 'jumping', 'jumped', 'jumped'),
                irr('swim', 'Action', 'swim', 'æ¸¸æ³³', 'swims', 'swimming', 'swam', 'swum'),
                reg('walk', 'Action', 'walk', 'èµ°è·¯'),
                irr('sit', 'Action', 'sit', 'å', 'sits', 'sitting', 'sat', 'sat'),
                irr('stand', 'Action', 'stand', 'ç«™ç«‹', 'stands', 'standing', 'stood', 'stood'),
                irr('sleep', 'Action', 'sleep', 'ç¡è¦º', 'sleeps', 'sleeping', 'slept', 'slept'),
                irr('eat', 'Action', 'eat', 'åƒ', 'eats', 'eating', 'ate', 'eaten'),
                irr('drink', 'Action', 'drink', 'å–', 'drinks', 'drinking', 'drank', 'drunk'),
                { id: 'brush', cat: 'Action', base: 'brush', s: 'brushes', ing: 'brushing', past: 'brushed', pp: 'brushed', zh: 'åˆ·' },
                { id: 'wash', cat: 'Action', base: 'wash', s: 'washes', ing: 'washing', past: 'washed', pp: 'washed', zh: 'æ´—' },
                reg('clean', 'Action', 'clean', 'æ¸…æ½”'),
                reg('comb', 'Action', 'comb', 'æ¢³(é ­)'),
                reg('dance', 'Action', 'dance', 'è·³èˆž', 'e'),
                reg('help', 'Action', 'help', 'å¹«å¿™'),
                reg('kick', 'Action', 'kick', 'è¸¢'),
                reg('laugh', 'Action', 'laugh', 'ç¬‘'),
                reg('cry', 'Action', 'cry', 'å“­', 'y'),
                reg('play', 'Action', 'play', 'çŽ©'),
                reg('wait', 'Action', 'wait', 'ç­‰å¾…'),
                { id: 'watch', cat: 'Action', base: 'watch', s: 'watches', ing: 'watching', past: 'watched', pp: 'watched', zh: 'è§€çœ‹' },
                irr('wear', 'Action', 'wear', 'ç©¿è‘—', 'wears', 'wearing', 'wore', 'worn'),
                reg('climb', 'Action', 'climb', 'æ”€çˆ¬'),
                reg('talk', 'Action', 'talk', 'èªªè©±'),
                reg('pack', 'Action', 'pack', 'æ”¶æ‹¾'),
                reg('hop', 'Action', 'hop', 'å–®è…³è·³', 'double'),
                reg('skip', 'Action', 'skip', 'è·³ç¹©', 'double'),
                reg('chew', 'Action', 'chew', 'å’€åš¼'),
                reg('clap', 'Action', 'clap', 'æ‹æ‰‹', 'double'),
                reg('nod', 'Action', 'nod', 'é»žé ­', 'double'),
                reg('wave', 'Action', 'wave', 'æ®æ‰‹', 'e'),
                reg('yawn', 'Action', 'yawn', 'æ‰“å‘µæ¬ '),

                // --- ðŸ³ Cooking & Household ---
                reg('cook', 'Cooking', 'cook', 'çƒ¹é£ª'),
                reg('boil', 'Cooking', 'boil', 'ç…®æ²¸'),
                reg('fry', 'Cooking', 'fry', 'ç…Ž/ç‚’', 'y'),
                reg('chop', 'Cooking', 'chop', 'ç /å‰', 'double'),
                reg('steam', 'Cooking', 'steam', 'è’¸'),
                { id: 'mix', cat: 'Cooking', base: 'mix', s: 'mixes', ing: 'mixing', past: 'mixed', pp: 'mixed', zh: 'æ··åˆ' },
                reg('peel', 'Cooking', 'peel', 'å‰Šçš®'),
                reg('pour', 'Cooking', 'pour', 'å€’'),
                reg('bake', 'Cooking', 'bake', 'çƒ˜ç„™', 'e'),
                reg('add', 'Cooking', 'add', 'åŠ å…¥'),
                irr('beat', 'Cooking', 'beat', 'æ”ªæ‰“', 'beats', 'beating', 'beat', 'beaten'),
                reg('serve', 'Cooking', 'serve', 'ä¸Šèœ/æœå‹™', 'e'),
                reg('slice', 'Cooking', 'slice', 'åˆ‡ç‰‡', 'e'),
                irr('spread', 'Cooking', 'spread', 'å¡—æŠ¹', 'spreads', 'spreading', 'spread', 'spread'),
                reg('sprinkle', 'Cooking', 'sprinkle', 'æ’’', 'e'),
                reg('stir', 'Cooking', 'stir', 'æ”ªæ‹Œ', 'double'),
                reg('taste', 'Cooking', 'taste', 'åš', 'e'),

                // --- ðŸ« School & Learning ---
                irr('write', 'School', 'write', 'å¯«', 'writes', 'writing', 'wrote', 'written'),
                irr('read', 'School', 'read', 'é–±è®€', 'reads', 'reading', 'read', 'read'),
                irr('draw', 'School', 'draw', 'ç•«', 'draws', 'drawing', 'drew', 'drawn'),
                reg('study', 'School', 'study', 'ç ”è®€', 'y'),
                reg('learn', 'School', 'learn', 'å­¸ç¿’'),
                reg('listen', 'School', 'listen', 'è½'),
                reg('ask', 'School', 'ask', 'è©¢å•'),
                reg('answer', 'School', 'answer', 'å›žç­”'),
                irr('teach', 'School', 'teach', 'æ•™å°Ž', 'teaches', 'teaching', 'taught', 'taught'),
                irr('speak', 'School', 'speak', 'è¬›è©±', 'speaks', 'speaking', 'spoke', 'spoken'),
                irr('say', 'School', 'say', 'èªª', 'says', 'saying', 'said', 'said'),
                irr('sing', 'School', 'sing', 'å”±æ­Œ', 'sings', 'singing', 'sang', 'sung'),
                reg('count', 'School', 'count', 'æ•¸æ•¸'),
                reg('open', 'School', 'open', 'æ‰“é–‹'),
                reg('close', 'School', 'close', 'é—œä¸Š', 'e'),
                reg('spell', 'School', 'spell', 'æ‹¼å¯«'),
                { id: 'discuss', cat: 'School', base: 'discuss', s: 'discusses', ing: 'discussing', past: 'discussed', pp: 'discussed', zh: 'è¨Žè«–' },
                reg('explain', 'School', 'explain', 'è§£é‡‹'),
                reg('practice', 'School', 'practice', 'ç·´ç¿’', 'e'),
                reg('present', 'School', 'present', 'åŒ¯å ±'),
                reg('revise', 'School', 'revise', 'æº«ç¿’', 'e'),

                // --- ðŸ§  Mental & Feeling ---
                irr('think', 'Mental', 'think', 'æ€è€ƒ', 'thinks', 'thinking', 'thought', 'thought'),
                irr('know', 'Mental', 'know', 'çŸ¥é“', 'knows', 'knowing', 'knew', 'known'),
                irr('understand', 'Mental', 'understand', 'æ˜Žç™½', 'understands', 'understanding', 'understood', 'understood'),
                reg('love', 'Mental', 'love', 'æ„›', 'e'),
                reg('like', 'Mental', 'like', 'å–œæ­¡', 'e'),
                reg('hate', 'Mental', 'hate', 'è¨ŽåŽ­', 'e'),
                reg('want', 'Mental', 'want', 'æƒ³è¦'),
                reg('need', 'Mental', 'need', 'éœ€è¦'),
                reg('believe', 'Mental', 'believe', 'ç›¸ä¿¡', 'e'),
                irr('feel', 'Mental', 'feel', 'æ„Ÿè¦º', 'feels', 'feeling', 'felt', 'felt'),
                irr('hear', 'Mental', 'hear', 'è½è¦‹', 'hears', 'hearing', 'heard', 'heard'),
                irr('see', 'Mental', 'see', 'çœ‹è¦‹', 'sees', 'seeing', 'saw', 'seen'),
                irr('forget', 'Mental', 'forget', 'å¿˜è¨˜', 'forgets', 'forgetting', 'forgot', 'forgotten'),
                reg('remember', 'Mental', 'remember', 'è¨˜å¾—'),
                reg('agree', 'Mental', 'agree', 'åŒæ„', 'e'),
                reg('decide', 'Mental', 'decide', 'æ±ºå®š', 'e'),
                reg('enjoy', 'Mental', 'enjoy', 'äº«å—'),
                reg('hope', 'Mental', 'hope', 'å¸Œæœ›', 'e'),
                irr('mean', 'Mental', 'mean', 'æ„æ€æ˜¯', 'means', 'meaning', 'meant', 'meant'),
                { id: 'wish', cat: 'Mental', base: 'wish', s: 'wishes', ing: 'wishing', past: 'wished', pp: 'wished', zh: 'å¸Œæœ›' },
                reg('worry', 'Mental', 'worry', 'æ“”å¿ƒ', 'y'),
                reg('wonder', 'Mental', 'wonder', 'ç´æ‚¶'),
                reg('realize', 'Mental', 'realize', 'æ„è­˜åˆ°', 'e'),
                reg('imagine', 'Mental', 'imagine', 'æƒ³åƒ', 'e'),
                reg('expect', 'Mental', 'expect', 'é æœŸ'),

                // --- ðŸ”¥ Irregular Checklist (Essential) ---
                irr('go', 'Irregular', 'go', 'åŽ»', 'goes', 'going', 'went', 'gone'),
                irr('do', 'Irregular', 'do', 'åš', 'does', 'doing', 'did', 'done'),
                irr('have', 'Irregular', 'have', 'æœ‰', 'has', 'having', 'had', 'had'),
                irr('be', 'Irregular', 'be', 'æ˜¯/åœ¨', 'is', 'being', 'was/were', 'been'),
                irr('become', 'Irregular', 'become', 'è®Šæˆ', 'becomes', 'becoming', 'became', 'become'),
                irr('begin', 'Irregular', 'begin', 'é–‹å§‹', 'begins', 'beginning', 'began', 'begun'),
                irr('bite', 'Irregular', 'bite', 'å’¬', 'bites', 'biting', 'bit', 'bitten'),
                irr('blow', 'Irregular', 'blow', 'å¹', 'blows', 'blowing', 'blew', 'blown'),
                irr('break', 'Irregular', 'break', 'æ‰“ç ´', 'breaks', 'breaking', 'broke', 'broken'),
                irr('bring', 'Irregular', 'bring', 'å¸¶ä¾†', 'brings', 'bringing', 'brought', 'brought'),
                irr('build', 'Irregular', 'build', 'å»ºé€ ', 'builds', 'building', 'built', 'built'),
                irr('buy', 'Irregular', 'buy', 'è²·', 'buys', 'buying', 'bought', 'bought'),
                irr('catch', 'Irregular', 'catch', 'æ‰', 'catches', 'catching', 'caught', 'caught'),
                irr('choose', 'Irregular', 'choose', 'é¸æ“‡', 'chooses', 'choosing', 'chose', 'chosen'),
                irr('come', 'Irregular', 'come', 'ä¾†', 'comes', 'coming', 'came', 'come'),
                irr('cost', 'Irregular', 'cost', 'åƒ¹å€¼', 'costs', 'costing', 'cost', 'cost'),
                irr('cut', 'Irregular', 'cut', 'åˆ‡', 'cuts', 'cutting', 'cut', 'cut'),
                irr('dig', 'Irregular', 'dig', 'æŒ–æŽ˜', 'digs', 'digging', 'dug', 'dug'),
                irr('drive', 'Irregular', 'drive', 'é§•é§›', 'drives', 'driving', 'drove', 'driven'),
                irr('fall', 'Irregular', 'fall', 'è·Œå€’', 'falls', 'falling', 'fell', 'fallen'),
                irr('feed', 'Irregular', 'feed', 'é¤µé£Ÿ', 'feeds', 'feeding', 'fed', 'fed'),
                irr('fight', 'Irregular', 'fight', 'æ‰“æž¶', 'fights', 'fighting', 'fought', 'fought'),
                irr('find', 'Irregular', 'find', 'æ‰¾åˆ°', 'finds', 'finding', 'found', 'found'),
                irr('fly', 'Irregular', 'fly', 'é£›', 'flies', 'flying', 'flew', 'flown'),
                irr('freeze', 'Irregular', 'freeze', 'çµå†°', 'freezes', 'freezing', 'froze', 'frozen'),
                irr('give', 'Irregular', 'give', 'çµ¦', 'gives', 'giving', 'gave', 'given'),
                irr('grow', 'Irregular', 'grow', 'ç”Ÿé•·', 'grows', 'growing', 'grew', 'grown'),
                irr('hide', 'Irregular', 'hide', 'èº²è—', 'hides', 'hiding', 'hid', 'hidden'),
                irr('hit', 'Irregular', 'hit', 'æ“Šæ‰“', 'hits', 'hitting', 'hit', 'hit'),
                irr('hold', 'Irregular', 'hold', 'æ¡ä½', 'holds', 'holding', 'held', 'held'),
                irr('hurt', 'Irregular', 'hurt', 'å‚·å®³', 'hurts', 'hurting', 'hurt', 'hurt'),
                irr('keep', 'Irregular', 'keep', 'ä¿æŒ', 'keeps', 'keeping', 'kept', 'kept'),
                irr('leave', 'Irregular', 'leave', 'é›¢é–‹', 'leaves', 'leaving', 'left', 'left'),
                irr('lend', 'Irregular', 'lend', 'å€Ÿå‡º', 'lends', 'lending', 'lent', 'lent'),
                irr('let', 'Irregular', 'let', 'è®“', 'lets', 'letting', 'let', 'let'),
                irr('lose', 'Irregular', 'lose', 'å¤±åŽ»', 'loses', 'losing', 'lost', 'lost'),
                irr('make', 'Irregular', 'make', 'è£½ä½œ', 'makes', 'making', 'made', 'made'),
                irr('meet', 'Irregular', 'meet', 'é‡è¦‹', 'meets', 'meeting', 'met', 'met'),
                irr('pay', 'Irregular', 'pay', 'ä»˜æ¬¾', 'pays', 'paying', 'paid', 'paid'),
                irr('put', 'Irregular', 'put', 'æ”¾ç½®', 'puts', 'putting', 'put', 'put'),
                irr('ride', 'Irregular', 'ride', 'é¨Ž', 'rides', 'riding', 'rode', 'ridden'),
                irr('ring', 'Irregular', 'ring', 'éŸ¿', 'rings', 'ringing', 'rang', 'rung'),
                irr('rise', 'Irregular', 'rise', 'ä¸Šå‡', 'rises', 'rising', 'rose', 'risen'),
                irr('sell', 'Irregular', 'sell', 'è³£', 'sells', 'selling', 'sold', 'sold'),
                irr('send', 'Irregular', 'send', 'å¯„é€', 'sends', 'sending', 'sent', 'sent'),
                irr('shake', 'Irregular', 'shake', 'æ–å‹•', 'shakes', 'shaking', 'shook', 'shaken'),
                irr('shine', 'Irregular', 'shine', 'ç…§è€€', 'shines', 'shining', 'shone', 'shone'),
                irr('shoot', 'Irregular', 'shoot', 'å°„æ“Š', 'shoots', 'shooting', 'shot', 'shot'),
                irr('show', 'Irregular', 'show', 'å±•ç¤º', 'shows', 'showing', 'showed', 'shown'),
                irr('shut', 'Irregular', 'shut', 'é—œé–‰', 'shuts', 'shutting', 'shut', 'shut'),
                irr('spend', 'Irregular', 'spend', 'èŠ±è²»', 'spends', 'spending', 'spent', 'spent'),
                irr('steal', 'Irregular', 'steal', 'å·ç«Š', 'steals', 'stealing', 'stole', 'stolen'),
                irr('sweep', 'Irregular', 'sweep', 'æŽƒ', 'sweeps', 'sweeping', 'swept', 'swept'),
                irr('take', 'Irregular', 'take', 'æ‹¿å–', 'takes', 'taking', 'took', 'taken'),
                irr('tear', 'Irregular', 'tear', 'æ’•è£‚', 'tears', 'tearing', 'tore', 'torn'),
                irr('tell', 'Irregular', 'tell', 'å‘Šè¨´', 'tells', 'telling', 'told', 'told'),
                irr('throw', 'Irregular', 'throw', 'æŠ•æ“²', 'throws', 'throwing', 'threw', 'thrown'),
                irr('wake', 'Irregular', 'wake', 'é†’ä¾†', 'wakes', 'waking', 'woke', 'woken'),
                irr('win', 'Irregular', 'win', 'è´', 'wins', 'winning', 'won', 'won'),

                // --- ðŸŒ Social & Activity ---
                reg('invite', 'Social', 'invite', 'é‚€è«‹', 'e'),
                reg('share', 'Social', 'share', 'åˆ†äº«', 'e'),
                reg('decorate', 'Social', 'decorate', 'è£é£¾', 'e'),
                reg('visit', 'Social', 'visit', 'æ‹œè¨ª'),
                reg('join', 'Social', 'join', 'åƒåŠ '),
                reg('start', 'Social', 'start', 'é–‹å§‹'),
                reg('stop', 'Social', 'stop', 'åœæ­¢', 'double'),
                { id: 'finish', cat: 'Social', base: 'finish', s: 'finishes', ing: 'finishing', past: 'finished', pp: 'finished', zh: 'å®Œæˆ' },
                reg('arrive', 'Social', 'arrive', 'åˆ°é”', 'e'),
                reg('borrow', 'Social', 'borrow', 'å€Ÿå…¥'),
                reg('return', 'Social', 'return', 'æ­¸é‚„'),
                reg('celebrate', 'Social', 'celebrate', 'æ…¶ç¥', 'e'),
                reg('change', 'Social', 'change', 'æ”¹è®Š', 'e'),
                reg('collect', 'Social', 'collect', 'æ”¶é›†'),
                reg('donate', 'Social', 'donate', 'æè´ˆ', 'e'),
                reg('drop', 'Social', 'drop', 'æŽ‰è½', 'double'),
                reg('follow', 'Social', 'follow', 'è·Ÿéš¨'),
                reg('happen', 'Social', 'happen', 'ç™¼ç”Ÿ'),
                reg('live', 'Social', 'live', 'å±…ä½', 'e'),
                reg('move', 'Social', 'move', 'ç§»å‹•', 'e'),
                reg('pick', 'Social', 'pick', 'æ‘˜/æ’¿'),
                reg('plant', 'Social', 'plant', 'ç¨®æ¤'),
                reg('prepare', 'Social', 'prepare', 'æº–å‚™', 'e'),
                reg('pull', 'Social', 'pull', 'æ‹‰'),
                { id: 'push', cat: 'Social', base: 'push', s: 'pushes', ing: 'pushing', past: 'pushed', pp: 'pushed', zh: 'æŽ¨' },
                reg('receive', 'Social', 'receive', 'æ”¶åˆ°', 'e'),
                reg('save', 'Social', 'save', 'å„²è“„/æ•‘', 'e'),
                reg('shout', 'Social', 'shout', 'å¤§å«'),
                reg('stay', 'Social', 'stay', 'åœç•™'),
                { id: 'touch', cat: 'Social', base: 'touch', s: 'touches', ing: 'touching', past: 'touched', pp: 'touched', zh: 'è§¸æ‘¸' },
                reg('travel', 'Social', 'travel', 'æ—…è¡Œ', 'double'),
                reg('try', 'Social', 'try', 'å˜—è©¦', 'y'),
                reg('turn', 'Social', 'turn', 'è½‰'),
                reg('use', 'Social', 'use', 'ä½¿ç”¨', 'e'),
                reg('work', 'Social', 'work', 'å·¥ä½œ'),

                // --- ðŸš€ Advanced ---
                reg('rob', 'Advanced', 'rob', 'æ¶åŠ«', 'double'),
                reg('recycle', 'Advanced', 'recycle', 'å›žæ”¶', 'e'),
                reg('achieve', 'Advanced', 'achieve', 'é”æˆ', 'e'),
                reg('create', 'Advanced', 'create', 'å‰µé€ ', 'e'),
                reg('discover', 'Advanced', 'discover', 'ç™¼ç¾'),
                reg('advise', 'Advanced', 'advise', 'å»ºè­°', 'e'),
                reg('afford', 'Advanced', 'afford', 'è² æ“”å¾—èµ·'),
                reg('allow', 'Advanced', 'allow', 'å…è¨±'),
                reg('appear', 'Advanced', 'appear', 'å‡ºç¾'),
                reg('argue', 'Advanced', 'argue', 'çˆ­è«–', 'e'),
                reg('arrest', 'Advanced', 'arrest', 'é€®æ•'),
                reg('attack', 'Advanced', 'attack', 'æ”»æ“Š'),
                reg('attend', 'Advanced', 'attend', 'å‡ºå¸­'),
                reg('avoid', 'Advanced', 'avoid', 'é¿å…'),
                reg('blame', 'Advanced', 'blame', 'æ€ªè²¬', 'e'),
                reg('bother', 'Advanced', 'bother', 'æ‰“æ“¾'),
                reg('complain', 'Advanced', 'complain', 'æŠ•è¨´'),
                reg('complete', 'Advanced', 'complete', 'å®Œæˆ', 'e'),
                reg('connect', 'Advanced', 'connect', 'é€£æŽ¥'),
                reg('damage', 'Advanced', 'damage', 'æå£ž', 'e'),
                reg('describe', 'Advanced', 'describe', 'æè¿°', 'e'),
                reg('destroy', 'Advanced', 'destroy', 'æ‘§æ¯€'),
                reg('disappear', 'Advanced', 'disappear', 'æ¶ˆå¤±'),
                reg('disturb', 'Advanced', 'disturb', 'æ‰“æ“¾'),
                reg('encourage', 'Advanced', 'encourage', 'é¼“å‹µ', 'e'),
                reg('escape', 'Advanced', 'escape', 'é€ƒè„«', 'e'),
                reg('examine', 'Advanced', 'examine', 'æª¢æŸ¥', 'e'),
                reg('explore', 'Advanced', 'explore', 'æŽ¢ç´¢', 'e'),
                reg('fail', 'Advanced', 'fail', 'å¤±æ•—'),
                reg('force', 'Advanced', 'force', 'å¼·è¿«', 'e'),
                reg('gather', 'Advanced', 'gather', 'èšé›†'),
                reg('guide', 'Advanced', 'guide', 'æŒ‡å¼•', 'e'),
                reg('handle', 'Advanced', 'handle', 'è™•ç†', 'e'),
                reg('ignore', 'Advanced', 'ignore', 'å¿½è¦–', 'e'),
                reg('improve', 'Advanced', 'improve', 'æ”¹å–„', 'e'),
                reg('include', 'Advanced', 'include', 'åŒ…æ‹¬', 'e'),
                reg('increase', 'Advanced', 'increase', 'å¢žåŠ ', 'e'),
                reg('injure', 'Advanced', 'injure', 'å—å‚·', 'e'),
                reg('interrupt', 'Advanced', 'interrupt', 'æ‰“æ–·'),
                reg('introduce', 'Advanced', 'introduce', 'ä»‹ç´¹', 'e'),
                reg('invent', 'Advanced', 'invent', 'ç™¼æ˜Ž'),
                reg('judge', 'Advanced', 'judge', 'è©•åˆ¤', 'e'),
                reg('manage', 'Advanced', 'manage', 'ç®¡ç†', 'e'),
                reg('measure', 'Advanced', 'measure', 'é‡åº¦', 'e'),
                reg('mention', 'Advanced', 'mention', 'æåŠ'),
                reg('notice', 'Advanced', 'notice', 'æ³¨æ„åˆ°', 'e'),
                reg('obey', 'Advanced', 'obey', 'æœå¾ž'),
                reg('offer', 'Advanced', 'offer', 'æä¾›'),
                reg('perform', 'Advanced', 'perform', 'è¡¨æ¼”'),
                reg('pollute', 'Advanced', 'pollute', 'æ±¡æŸ“', 'e'),
                reg('prevent', 'Advanced', 'prevent', 'é˜²æ­¢'),
                reg('produce', 'Advanced', 'produce', 'ç”Ÿç”¢', 'e'),
                reg('promise', 'Advanced', 'promise', 'æ‰¿è«¾', 'e'),
                reg('protect', 'Advanced', 'protect', 'ä¿è­·'),
                reg('provide', 'Advanced', 'provide', 'æä¾›', 'e'),
                { id: 'punish', cat: 'Advanced', base: 'punish', s: 'punishes', ing: 'punishing', past: 'punished', pp: 'punished', zh: 'æ‡²ç½°' },
                reg('refuse', 'Advanced', 'refuse', 'æ‹’çµ•', 'e'),
                reg('remind', 'Advanced', 'remind', 'æé†’'),
                reg('repair', 'Advanced', 'repair', 'ä¿®ç†'),
                reg('repeat', 'Advanced', 'repeat', 'é‡è¤‡'),
                reg('replace', 'Advanced', 'replace', 'å–ä»£', 'e'),
                reg('reply', 'Advanced', 'reply', 'å›žè¦†', 'y'),
                reg('report', 'Advanced', 'report', 'å ±å‘Š'),
                reg('rescue', 'Advanced', 'rescue', 'æ‹¯æ•‘', 'e'),
                reg('respect', 'Advanced', 'respect', 'å°Šé‡'),
                { id: 'search', cat: 'Advanced', base: 'search', s: 'searches', ing: 'searching', past: 'searched', pp: 'searched', zh: 'æœå°‹' },
                reg('solve', 'Advanced', 'solve', 'è§£æ±º', 'e'),
                reg('suggest', 'Advanced', 'suggest', 'å»ºè­°'),
                reg('support', 'Advanced', 'support', 'æ”¯æŒ'),
                reg('survive', 'Advanced', 'survive', 'å­˜æ´»', 'e'),
                reg('trust', 'Advanced', 'trust', 'ä¿¡ä»»'),
                reg('warn', 'Advanced', 'warn', 'è­¦å‘Š'),
                reg('waste', 'Advanced', 'waste', 'æµªè²»', 'e'),
                reg('whisper', 'Advanced', 'whisper', 'ä½Žèªž'),
            ], []);

            const categories = ['All', 'Action', 'Cooking', 'School', 'Mental', 'Irregular', 'Social', 'Advanced'];

            useEffect(() => {
                const loadVoices = () => {
                    const allVoices = window.speechSynthesis.getVoices();
                    const usVoice = allVoices.find(v => v.name === 'Google US English') || 
                                    allVoices.find(v => v.lang === 'en-US' && v.name.includes('Samantha')) ||
                                    allVoices.find(v => v.lang === 'en-US');
                    setSelectedVoice(usVoice);
                };
                loadVoices();
                window.speechSynthesis.onvoiceschanged = loadVoices;
            }, []);

            const speak = (text) => {
                if (!text) return;
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                if (selectedVoice) utterance.voice = selectedVoice;
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
                window.speechSynthesis.speak(utterance);
            };

            const filteredVerbs = useMemo(() => {
                return verbsData.filter(v => {
                    const matchesCategory = category === 'All' || v.cat === category;
                    const matchesSearch = v.base.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                          v.zh.includes(searchTerm);
                    return matchesCategory && matchesSearch;
                });
            }, [category, searchTerm, verbsData]);
            
            const currentVerb = filteredVerbs[currentVerbIndex] || filteredVerbs[0] || verbsData[0];

            useEffect(() => {
                setCurrentVerbIndex(0);
                resetSpelling();
                setActiveTense('past');
            }, [category, searchTerm]);

            useEffect(() => {
                resetSpelling();
                setActiveTense('past');
            }, [currentVerbIndex, mode]);

            const nextVerb = () => {
                if (filteredVerbs.length > 0) {
                    setCurrentVerbIndex(prev => (prev + 1) % filteredVerbs.length);
                }
            };

            const prevVerb = () => {
                if (filteredVerbs.length > 0) {
                    setCurrentVerbIndex(prev => (prev - 1 + filteredVerbs.length) % filteredVerbs.length);
                }
            };

            const resetSpelling = () => {
                setUserSpelling('');
                setSpellingFeedback(null);
                setHintLevel(0);
            };

            const checkSpelling = () => {
                if (userSpelling.toLowerCase().trim() === currentVerb.base.toLowerCase()) {
                    setSpellingFeedback('correct');
                    speak(`Correct! ${currentVerb.base}`);
                } else {
                    setSpellingFeedback('incorrect');
                    speak("Try again.");
                }
            };

            const getExampleSentence = (verb, tense) => {
                if (!verb) return "";
                switch(tense) {
                    case 'base': return `I can ${verb.base} very well.`;
                    case 's': return `He ${verb.s} every single day.`;
                    case 'ing': return `Look! She is ${verb.ing} right now.`;
                    case 'past': return `Yesterday, we ${verb.past} together.`;
                    case 'pp': return `I have ${verb.pp} many times.`;
                    default: return `Yesterday, I ${verb.past}.`;
                }
            };

            const getActiveWord = (verb, tense) => {
                if (!verb) return "";
                switch(tense) {
                    case 'base': return verb.base;
                    case 's': return verb.s;
                    case 'ing': return verb.ing;
                    case 'past': return verb.past;
                    case 'pp': return verb.pp;
                    default: return verb.past;
                }
            };

            return (
                <div className="min-h-screen text-slate-700 font-sans selection:bg-amber-100">
                    <nav className="bg-white border-b-2 border-slate-100 sticky top-0 z-20 shadow-sm">
                        <div className="max-w-3xl mx-auto px-4 py-3 space-y-3">
                            <div className="flex flex-wrap justify-between items-center gap-4">
                                <div className="flex items-center gap-2">
                                    <div className="w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center border-2 border-amber-300 shadow-sm relative overflow-hidden group">
                                        <GraduationCap size={22} className="text-amber-600 relative z-10" />
                                        <div className="absolute inset-0 bg-amber-200 opacity-0 group-hover:opacity-30 transition-opacity"></div>
                                    </div>
                                    <span className="font-extrabold text-xl tracking-tight text-slate-800 hidden sm:block">Verb Master</span>
                                </div>

                                <div className="flex-1 max-w-sm relative group flex items-center gap-2">
                                    <div className="flex items-center justify-center w-8 h-8 bg-amber-50 rounded-full text-amber-500 border border-amber-100">
                                        <SearchIcon size={16} />
                                    </div>
                                    <div className="relative w-full">
                                        <input 
                                            type="text" 
                                            placeholder="Search..."
                                            value={searchTerm}
                                            onChange={(e) => setSearchTerm(e.target.value)}
                                            className="w-full pl-3 pr-4 py-2 rounded-full border-2 border-slate-200 focus:outline-none focus:border-amber-400 text-sm bg-white transition-all font-medium"
                                        />
                                    </div>
                                </div>

                                <div className="flex bg-slate-100 rounded-lg p-1">
                                    <button 
                                        onClick={() => setMode('learn')}
                                        className={`flex items-center px-3 py-1.5 rounded-md text-xs font-medium transition-all ${mode === 'learn' ? 'bg-white text-amber-600 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}
                                    >
                                        <BookOpen size={16} className="mr-2" /> Learn
                                    </button>
                                    <button 
                                        onClick={() => setMode('spell')}
                                        className={`flex items-center px-3 py-1.5 rounded-md text-xs font-medium transition-all ${mode === 'spell' ? 'bg-white text-amber-600 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}
                                    >
                                        <Edit3 size={16} className="mr-2" /> Spell
                                    </button>
                                </div>
                            </div>

                            <div className="overflow-x-auto no-scrollbar pt-1 pb-2">
                                <div className="flex space-x-2">
                                    {categories.map(cat => (
                                        <button
                                            key={cat}
                                            onClick={() => setCategory(cat)}
                                            className={`px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap border transition-all
                                                ${category === cat 
                                                ? 'bg-slate-800 text-white border-slate-800 shadow-md transform scale-105' 
                                                : 'bg-white text-slate-500 border-slate-200 hover:border-amber-300 hover:text-amber-600'
                                                }`}
                                        >
                                            {cat}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </nav>

                    <main className="max-w-2xl mx-auto p-4 md:p-6">
                        <div className="bg-white rounded-3xl shadow-xl border-4 border-slate-800 overflow-hidden relative flex flex-col min-h-[500px]">
                            <div className="bg-slate-50 px-6 py-4 flex justify-between items-center border-b border-slate-100">
                                <span className="text-xs font-bold text-amber-500 uppercase tracking-widest flex items-center">
                                    {currentVerb.cat} 
                                    <span className="mx-2 text-slate-300">|</span> 
                                    {filteredVerbs.length > 0 ? currentVerbIndex + 1 : 0}/{filteredVerbs.length}
                                </span>
                                <div className="flex gap-2">
                                    <button onClick={prevVerb} className="p-2 rounded-lg hover:bg-slate-200 text-slate-600 border border-slate-200 transition-colors disabled:opacity-50" disabled={filteredVerbs.length === 0}><ChevronLeft size={20}/></button>
                                    <button onClick={nextVerb} className="p-2 rounded-lg hover:bg-slate-200 text-slate-600 border border-slate-200 transition-colors disabled:opacity-50" disabled={filteredVerbs.length === 0}><ChevronRight size={20}/></button>
                                </div>
                            </div>

                            {filteredVerbs.length === 0 ? (
                                <div className="flex-1 flex flex-col items-center justify-center text-slate-400 min-h-[300px]">
                                    <SearchIcon size={48} className="mb-4 opacity-20" />
                                    <p>No verbs found matching "{searchTerm}"</p>
                                    <button onClick={() => setSearchTerm('')} className="mt-4 text-amber-500 font-bold hover:underline">Clear Search</button>
                                </div>
                            ) : (
                                <div className="flex-1 flex flex-col p-6 md:p-8">
                                    <div className="text-center mb-8 relative">
                                        <h2 className="text-5xl md:text-6xl font-black text-slate-800 mb-3 tracking-wider break-words">
                                            {mode === 'spell' ? '???' : currentVerb.base}
                                        </h2>
                                        <div className="inline-flex items-center justify-center gap-3">
                                            <span className="text-lg font-medium text-slate-500 bg-slate-50 px-4 py-1 rounded-full border border-slate-200">
                                                {currentVerb.zh}
                                            </span>
                                            <button 
                                                onClick={() => speak(currentVerb.base)}
                                                className="p-2 bg-amber-400 hover:bg-amber-500 text-slate-900 rounded-full border-2 border-slate-900 shadow-sm transition-transform hover:scale-110"
                                                title="Play Pronunciation"
                                            >
                                                <Volume2 size={20} />
                                            </button>
                                        </div>
                                    </div>

                                    {mode === 'learn' ? (
                                        <div className="animate-fadeIn space-y-6">
                                            <div>
                                                <h3 className="text-sm uppercase font-bold text-slate-400 mb-3 tracking-widest text-center flex items-center justify-center gap-2">
                                                    <MousePointerClick size={14} /> Click a form for example
                                                </h3>
                                                <div className="space-y-2">
                                                    <TenseRow label="Base Form" val={currentVerb.base} active={activeTense === 'base'} color="bg-blue-50 text-blue-700 border-blue-200" activeColor="bg-blue-600 text-white border-blue-600 shadow-md transform scale-[1.02]" onClick={() => setActiveTense('base')} audio={currentVerb.base} play={speak}/>
                                                    <TenseRow label="3rd Person (Present)" val={currentVerb.s} active={activeTense === 's'} color="bg-green-50 text-green-700 border-green-200" activeColor="bg-green-600 text-white border-green-600 shadow-md transform scale-[1.02]" onClick={() => setActiveTense('s')} audio={currentVerb.s} play={speak}/>
                                                    <TenseRow label="Present Continuous" val={currentVerb.ing} active={activeTense === 'ing'} color="bg-purple-50 text-purple-700 border-purple-200" activeColor="bg-purple-600 text-white border-purple-600 shadow-md transform scale-[1.02]" onClick={() => setActiveTense('ing')} audio={currentVerb.ing} play={speak}/>
                                                    <TenseRow label="Simple Past" val={currentVerb.past} active={activeTense === 'past'} color="bg-orange-50 text-orange-700 border-orange-200" activeColor="bg-orange-600 text-white border-orange-600 shadow-md transform scale-[1.02]" onClick={() => setActiveTense('past')} audio={currentVerb.past} play={speak}/>
                                                    <TenseRow label="Past Participle" val={currentVerb.pp} active={activeTense === 'pp'} color="bg-pink-50 text-pink-700 border-pink-200" activeColor="bg-pink-600 text-white border-pink-600 shadow-md transform scale-[1.02]" onClick={() => setActiveTense('pp')} audio={currentVerb.pp} play={speak}/>
                                                </div>
                                            </div>

                                            <div className="p-5 bg-slate-50 rounded-xl border border-slate-100 text-center transition-all min-h-[100px] flex flex-col justify-center">
                                                <p className="text-xs text-slate-400 uppercase font-bold mb-2 tracking-wider">
                                                    Example ({activeTense === 'base' ? 'Base Form' : activeTense === 's' ? '3rd Person' : activeTense === 'ing' ? 'Continuous' : activeTense === 'past' ? 'Past' : 'Past Participle'})
                                                </p>
                                                <p className="text-slate-700 italic text-lg leading-relaxed animate-fadeIn">
                                                    "{getExampleSentence(currentVerb, activeTense).split(getActiveWord(currentVerb, activeTense)).map((part, i, arr) => (
                                                        <React.Fragment key={i}>
                                                            {part}
                                                            {i < arr.length - 1 && <strong className="text-amber-600 border-b-2 border-amber-300 mx-1">{getActiveWord(currentVerb, activeTense)}</strong>}
                                                        </React.Fragment>
                                                    ))}"
                                                </p>
                                            </div>
                                        </div>
                                    ) : (
                                        <div className="flex-1 flex flex-col justify-center animate-fadeIn">
                                            <div className="text-center mb-8">
                                                <p className="text-slate-500 mb-6 text-lg">Type the <strong>Base Form</strong></p>
                                                
                                                <div className="relative max-w-xs mx-auto">
                                                    <input 
                                                        type="text" 
                                                        value={userSpelling}
                                                        onChange={(e) => { setUserSpelling(e.target.value); setSpellingFeedback(null); }}
                                                        onKeyDown={(e) => e.key === 'Enter' && checkSpelling()}
                                                        className={`w-full text-center text-3xl font-bold p-4 rounded-xl border-4 outline-none transition-all shadow-inner
                                                            ${spellingFeedback === 'correct' ? 'border-green-400 bg-green-50 text-green-800' : 
                                                            spellingFeedback === 'incorrect' ? 'border-red-400 bg-red-50 text-red-800' : 'border-slate-200 focus:border-amber-400 focus:bg-amber-50'}`}
                                                        placeholder="..."
                                                        autoFocus
                                                        autoComplete="off"
                                                        autoCorrect="off"
                                                    />
                                                    {spellingFeedback === 'correct' && <span className="absolute right-4 top-5 text-green-500 animate-bounce"><Check size={28}/></span>}
                                                    {spellingFeedback === 'incorrect' && <span className="absolute right-4 top-5 text-red-500 animate-pulse"><X size={28}/></span>}
                                                </div>
                                            </div>

                                            <div className="flex justify-center gap-3">
                                                <button onClick={checkSpelling} className="px-8 py-3 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-700 shadow-[0px_4px_0px_0px_rgba(0,0,0,0.2)] active:translate-y-1 active:shadow-none transition-all w-32">
                                                    Check
                                                </button>
                                                <button onClick={() => { setHintLevel(prev => prev + 1); speak(currentVerb.base[0]); }} className="px-4 py-3 bg-white text-slate-500 border-2 border-slate-200 rounded-xl font-bold hover:bg-slate-50 hover:border-amber-300 transition-colors">
                                                    Hint?
                                                </button>
                                            </div>
                                            
                                            {hintLevel > 0 && (
                                                <div className="text-center mt-8 p-4 bg-slate-50 rounded-xl border border-slate-100">
                                                    <p className="text-sm text-slate-400 mb-1">Hint</p>
                                                    <p className="text-amber-500 font-mono tracking-[0.5em] text-2xl font-bold uppercase">
                                                        {currentVerb.base.substring(0, hintLevel) + "_".repeat(Math.max(0, currentVerb.base.length - hintLevel))}
                                                    </p>
                                                </div>
                                            )}
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>
                        <div className="text-center mt-8 text-slate-400 text-xs uppercase tracking-widest font-semibold">
                            HK Primary English Curriculum â€¢ 200+ Verbs Database
                        </div>
                    </main>
                </div>
            );
        };

        const TenseRow = ({ label, val, color, activeColor, active, onClick, play, audio }) => (
            <div 
                onClick={(e) => { 
                    onClick(); 
                    play(audio); 
                }}
                className={`flex justify-between items-center px-4 py-3 rounded-xl border cursor-pointer hover:opacity-90 transition-all active:scale-[0.99]
                    ${active ? activeColor : color + ' hover:brightness-95'}
                `}
            >
                <div className="flex flex-col text-left">
                    <span className={`text-[10px] uppercase font-bold tracking-wider ${active ? 'opacity-90' : 'opacity-60'}`}>{label}</span>
                    <span className="text-lg font-bold font-mono">{val}</span>
                </div>
                <button 
                    className={`w-8 h-8 flex items-center justify-center rounded-full transition-colors ${active ? 'bg-white/30 text-white hover:bg-white/40' : 'bg-white/50 text-slate-600 hover:bg-white/70'}`}
                    onClick={(e) => {
                        e.stopPropagation(); 
                        onClick(); 
                        play(audio); 
                    }}
                >
                    <Volume2 size={16} />
                </button>
            </div>
        );

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PrimaryVerbsApp />);
    </script>
</body>
</html>